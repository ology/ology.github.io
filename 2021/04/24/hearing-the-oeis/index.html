<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1" name="viewport">
        <link href="/theme/css/normalize.css" rel="stylesheet">
        <link href="/theme/css/skeleton.css" rel="stylesheet">
        <link href="/theme/css/statocles-default.css" rel="stylesheet">
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
        <title>Hearing the OEIS - Gene Boggs</title>
        <meta content="Statocles 0.098" name="generator">
        <link href="/2021/05/07/installing-and-using-abbey-road-60s-drummer/index.html" rel="prev">
        <link href="/2021/03/30/irc-music-bot/index.html" rel="next">
        <link href="/theme/site/favicon.png" rel="shortcut icon">
        <meta content="v--gGGK7_9GCDMA9TXuSnxcvJAeU_6ZueEnLYfBRaDA" name="google-site-verification">

<script crossorigin="anonymous" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

        <link href="/theme/site/ology.css" rel="stylesheet" type="text/css">
        <script src="/theme/site/ology.js"></script>
    </head>
    <body>
        <header>
            <nav class="navbar">
                <div class="container">
                    <img src="/theme/site/banner.jpg"><br>

                    <a class="brand" href="/">Gene Boggs</a>
                    <ul>
                        <li>
                            <a href="https://github.com/ology">On Github</a>
                        </li>
                        <li>
                            <a href="https://metacpan.org/author/GENE">On CPAN</a>
                        </li>
                    </ul>
                    
                </div>
            </nav>
            
        </header>
        <div class="main container">
            <div class="row">
                <div class="nine columns">
                    <main>
                        <header>
    <h1>Hearing the OEIS</h1>

    <aside>
        <time datetime="2021-04-24">
            Posted on 2021-04-24
        </time>
    </aside>

    <p class="tags">Tags:
        <a href="/tag/perl/" rel="tag">perl</a>
        <a href="/tag/software/" rel="tag">software</a>
        <a href="/tag/midi/" rel="tag">MIDI</a>
        <a href="/tag/audio/" rel="tag">audio</a>
    </p>


</header>
<section id="section-1">
    <p><img alt="oeis-logo.jpg" src="oeis-logo.jpg">
What does a number sequence &quot;sound like&quot;?</p>

</section>
<section id="section-2">
    <p>Let&#39;s join <a href="https://metacpan.org/release/MIDI-Perl">MIDI-Perl</a> with the <a href="https://metacpan.org/release/OEIS">OEIS module</a>!</p>

<p><a href="https://www.midi.org/">MIDI</a> stands for &quot;Musical Instrument Digital Interface.&quot;  <a href="https://www.perl.org/">Perl</a> is, of course a computer language.  And the <a href="https://oeis.org/">OEIS</a> is the venerable, On-Line Encyclopedia of Integer Sequences.</p>

<p>Let&#39;s get to it.  The code is super simple:</p>

<pre><code>#!/usr/bin/env perl
use strict;
use warnings;
</code></pre>

<p>Declare the modules and functions to use:</p>

<pre><code>use MIDI::Util qw(setup_score);
use Music::Scales qw(get_scale_MIDI);
use OEIS qw(oeis);
</code></pre>

<p>Declare and assign the program parameters (which can be given as command-line arguments):</p>

<pre><code>my $oeis   = shift || die &quot;Usage: perl $0 oeis-number [how-many scale bpm patch octave]\n&quot;;
my $limit  = shift || 64;
my $scale  = shift || &#39;major&#39;;
my $bpm    = shift || 300;
my $patch  = shift || 0;
my $octave = shift || 4;
</code></pre>

<p>We will need a MIDI score and a scale of notes:</p>

<pre><code>my $score = setup_score(bpm =&gt; $bpm, patch =&gt; $patch);
my @scale = get_scale_MIDI(&#39;C&#39;, $octave, $scale);
</code></pre>

<p>Inspect each term of the OEIS sequence.  Find the modulo between this term and the size of the scale.  (This keeps the values in the audible range.)  Add this value as a note to the growing score:</p>

<pre><code>my $i = 0;
for my $n (oeis($oeis, $limit)) {
    my $mod = $n % @scale;
    my $note = $scale[$mod];
    printf &quot;%d. n: %d, mod %d: %d, note: %d\n&quot;,                                                                                                                              
        ++$i, $n, scalar(@scale), $mod, $note;
    $score-&gt;n(&#39;qn&#39;, $note);
}
</code></pre>

<p>Finally, write the score to a MIDI file, named after the program:</p>

<pre><code>$score-&gt;write_score(&quot;$0.mid&quot;);
</code></pre>

<p>And what does this sound like?  Well here are the 58 prime numbers in the sequence <a href="https://oeis.org/A000040">OEIS A000040</a>:</p>

<p><audio controls><source src="oeis-40.mp3" type="audio/mp3"></audio></p>

<p>And here are the first 64 Fibonacci numbers (<a href="https://oeis.org/A000045">OEIS A000045</a>):</p>

<p><audio controls><source src="oeis-45.mp3" type="audio/mp3"></audio></p>

<p>Woo!</p>

</section>

<ul class="pager">
    <li class="prev">
            <a class="button button-primary" href="/2021/03/30/irc-music-bot/index.html" rel="prev">
                ← Older
            </a>
    </li>
    <li class="next">
            <a class="button button-primary" href="/2021/05/07/installing-and-using-abbey-road-60s-drummer/index.html" rel="next">
                Newer →
            </a>
    </li>
</ul>



                    </main>
                </div>

                <div class="three columns sidebar">
                    <input id="query" placeholder="Search" type="text">

                        <nav id="tags">
        <h1>Tags</h1>
        <ul class="list-inline">
            <li><a href="/tag/analysis/">analysis</a></li>
            <li><a href="/tag/audio/">audio</a></li>
            <li><a href="/tag/automata/">automata</a></li>
            <li><a href="/tag/bible/">bible</a></li>
            <li><a href="/tag/complexity/">complexity</a></li>
            <li><a href="/tag/data/">data</a></li>
            <li><a href="/tag/evolutionary/">evolutionary</a></li>
            <li><a href="/tag/fractal/">fractal</a></li>
            <li><a href="/tag/game-theory/">game theory</a></li>
            <li><a href="/tag/generative/">generative</a></li>
            <li><a href="/tag/image/">image</a></li>
            <li><a href="/tag/machine-learning/">machine learning</a></li>
            <li><a href="/tag/mathematics/">mathematics</a></li>
            <li><a href="/tag/midi/">MIDI</a></li>
            <li><a href="/tag/music/">music</a></li>
            <li><a href="/tag/nlp/">NLP</a></li>
            <li><a href="/tag/perl/">perl</a></li>
            <li><a href="/tag/pi/">pi</a></li>
            <li><a href="/tag/prime-numbers/">prime numbers</a></li>
            <li><a href="/tag/psychology/">psychology</a></li>
            <li><a href="/tag/python/">python</a></li>
            <li><a href="/tag/r/">R</a></li>
            <li><a href="/tag/software/">software</a></li>
            <li><a href="/tag/web/">web</a></li>
        </ul>
    </nav>

                    
                </div>
            </div>
        </div>
        <footer>
            <div class="container tagline">
    Crafted by <a href="https://github.com/ology">Gene Boggs</a>, Epistemologist-at-large
</div>

            <div class="container tagline">
                <a href="https://metacpan.org/pod/Statocles">Made with Statocles</a>
                |
                <a href="http://www.perl.org">Powered by Perl</a>
            </div>
        </footer>


    </body>
</html>
